{"version":3,"file":"static/js/884.8b6e3fe9.chunk.js","mappings":"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","sources":["components/hooks/useHttp.jsx","pages/MovieDetails.jsx","services/api.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\n\nexport const useHttp = (fn, params) => {\n  const [data, setData] = useState()\n  useEffect(() => {\n    fn(params).then(data => setData(data))\n  }, [params, fn])\n  return [data, setData]\n}","import React, { Suspense, useRef } from 'react'\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom'\nimport { BASE_URL_FOR_IMG, fetchMovieById } from '../services/api';\nimport { useHttp } from '../components/hooks/useHttp';\nimport styled from 'styled-components';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation()\n  console.log(location)\n  const goBackRef = useRef(location.state?.from || '/')\n  const [movie] = useHttp(fetchMovieById, movieId)\n  console.log(movie)\n  if (!movie) return <h1>Loading...</h1>\n\n  const { poster_path, title, release_date, overview, genres } = movie;\n  return (\n    <>\n      <Link to={goBackRef.current}>\n        <StyledButton>\n          Go back to movies!\n        </StyledButton>\n      </Link>\n      <StyleMovieCard>\n        <img src={BASE_URL_FOR_IMG + poster_path} alt={title} />\n        <div>\n          <h1>{title}</h1>\n          <p>Release date: {release_date}</p>\n          <h2>Overview</h2>\n          <p>{overview}</p>\n          <h2>Genres</h2>\n          <ul>\n            {genres.map(genre => { return <li key={genre.id}>{genre.name}</li> })}\n          </ul>\n        </div>\n      </StyleMovieCard>\n      <hr />\n      <StyledList>\n        <Link to='cast'>Actors</Link>\n        <Link to='reviews'>Reviews</Link>\n      </StyledList>\n      <Suspense fallback={<h2>Loading second Suspense</h2>}>\n        <Outlet />\n      </Suspense>\n\n    </>\n  )\n}\n\nexport default MovieDetails\n\nconst StyledList = styled.div`\na{\n  margin: 10px;\n}\n`\nconst StyledButton = styled.button`\nmargin:10px;\npadding: 10px;\n`\nconst StyleMovieCard = styled.div`\ndisplay: flex;\n    flex-direction: row;\npadding: 10px;\n    img{\n      width: 40%;\n      margin-right: 10px;\n    }\n    h1{\n      margin-top: 0;\n    }\n`","import axios from \"axios\"\nexport const BASE_URL_FOR_IMG = 'https://image.tmdb.org/t/p/w500'\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/'\nconst API_KEY = '85e6bdfb8ec7cb55f85ebb0c0a551952'\nconst options = {\n  params: {\n    api_key: API_KEY,\n  }\n}\n\nexport const fetchTrending = async () => {\n  // const { data } = await axios.get(`trending/movie/day?api_key=${API_KEY}`)\n  const { data } = await axios.get(`trending/movie/day`, options)\n  return data.results\n}\n\nexport const fetchMovieById = async id => {\n  const { data } = await axios.get(`movie/${id}`, options)\n  // console.log(data)\n  return data\n}\n\nexport const fetchMovieByIdCast = async id => {\n  const { data } = await axios.get(`movie/${id}/credits`, options)\n  // console.log(data)\n  return data\n}\n\nexport const fetchMovieByIdReviews = async id => {\n  const { data } = await axios.get(`movie/${id}/reviews`, options)\n  // console.log(data)\n  return data\n}\n\nexport const fetchMovieByQuery = async query => {\n  const { data } = await axios.get(`search/movie?query=${query}`, options)\n  return data.results\n}\n\n// movie?query=\n// https://api.themoviedb.org/3/trending/movie\n// https://api.themoviedb.org/3/search/movie\n// https://api.themoviedb.org/3/movie/{movie_id}\n// https://api.themoviedb.org/3/movie/{movie_id}/credits\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews\n"],"names":["useHttp","fn","params","_useState","useState","_useState2","_slicedToArray","data","setData","useEffect","then","_location$state","movieId","useParams","location","useLocation","console","log","goBackRef","useRef","state","from","_useHttp","fetchMovieById","movie","_jsx","children","poster_path","title","release_date","overview","genres","_jsxs","_Fragment","Link","to","current","StyledButton","StyleMovieCard","src","BASE_URL_FOR_IMG","alt","map","genre","name","id","StyledList","Suspense","fallback","Outlet","styled","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","axios","options","api_key","fetchTrending","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","_context","prev","next","sent","abrupt","results","stop","apply","arguments","_ref2","_callee2","_yield$axios$get2","_context2","concat","_x","fetchMovieByIdCast","_ref3","_callee3","_yield$axios$get3","_context3","_x2","fetchMovieByIdReviews","_ref4","_callee4","_yield$axios$get4","_context4","_x3","fetchMovieByQuery","_ref5","_callee5","query","_yield$axios$get5","_context5","_x4"],"sourceRoot":""}